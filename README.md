# YC-SEQUELIZE-PROJECT

1. 암호화 방식  
    
    hash의 경우 단방향 암호화를 사용한다.
    hash를 사용하게 될 경우, 장점으로는 데이터의 저장/읽기 속도가 빠르다는 것과 키에 대한 데이터가 있는지 확인이 쉽다. 또한 충돌이 없다면 시간복잡도가 O(1)로 짧다.

2. 인증 방식  

    JTW 토큰이 노출되었을 경우에는 사용자의 개인 정보들이 유출될 수 있다. 따라서 가장 기본적으로는 토큰의 탈취 유무와 상관없이 토큰의 유효기간을 설정해 줌으로써 한 번 발급된 토큰을 이용해 무한정으로 사용할 수 있는 경우를 제거해줘야 한다.  
    또한 토큰이 탈취되었다고 판단되는 경우에는 서버에서 토큰을 임의적으로 이미 발급된 토큰에 관한 유효성을 폐기해주어야 한다.



3. 인증과 인가  

    인증 : 사용자의 신원을 검증하는 프로세스. ID와 Password를 통해 로그인하는 행위 등.  
    인가 : 인증 이후의 프로세스. 인증된 사용자가 어떤 자원에 접근할 수 있는지를 확인하는 절차.  

    현재 작성되어 있는 middleware는 사용자가 로그인 했을 때 발급하는 토큰의 유효성을 판별하여  로그인한 사용자가 맞는지 검증하는 과정이기 때문에 '인증'이라고 생각합니다.  
    그 이후 미들웨어를 거쳐 토큰이 유효하다고 판단될 때 특정 경로로 접근할 수 있는 코드부분이 '인가'부분이라고 생각합니다.

4. Http Status Code  

    status(200) : 요청이 성공적으로 처리되었을 때 사용. 정보는 요청에 따른 응답으로 반환.  
    status(201) : 요청이 성공적으로 처리되었으며 그 결과 새로운 리소스가 생김. 일반적으로 POST요청이나 PUT요청 뒤에 따라옴.  
    status(400) : 잘못된 문법으로 인해 서버가 이해할 수 없음을 의미.  
    status(404) : 서버가 요청받은 리소스를 찾을 수 없음.  

5. 리팩토링  

    MongoDB를 이용해 지난 과제를 완벽하게 만들지 못해 처음부터 Sequelize를 이용한 MySQL 기반으로 만들었습니다.

6. 서버 장애 복구  

    AWS EC2 인스턴스가 재시작될 때 Express 서버를 재실행 시키기 위해서는 pm2에서 제공하는 pm2 save와 pm2 resurrect를 사용해야 한다.


7. 개발 환경  

    nodemon의 역할 : 특정 파일 내용을 수정하고 저장할 때마다 이를 감지하고 프로그램을 재실행시켜준다.  
      
    일반 : 일반으로 nodemon 설치 시 패키지가 package.json의 dependencies 필드에 설치된다. nodemon은 해당되지 않지만 배포를 하는데 있어 필요한 패키지들은 개발자 옵션을 주지 않고 설치해야 한다.  

    --global, -g : nodemon을 전역으로 설치한다.  

    --save -dev, -D : 개발자 옵션으로 설치시 package.json 파일의 devDependencies 필드에 설치된다. 배포용도로 실행되고 있는 코드는 이상이 있거나 추가할 부분이 있으면 아예 코드를 수정하고 서버에 다시 직접 재배포 해야한다. 따라서 배포 용도로는 필요하지 않고 개발 용도로만 필요한 패키지를 설치할 때 --save -dev 옵션을 주게된다.  

    Node.js 프로젝트를 다른 개발자와 공유할 때 node_modules 디렉토리는 용량이 너무 크기 때문에 공유하지 않고  package.josn 파일만 공유해준다. 공유받은 개발자는 package.json 파일에 있는 패키지들을 설치하는데 이렇게되면 dependencies필드와 devDependencies에 있던 모든 패키지들이 설치된다. 이때 npm install --production 옵션을 주고 설치하게 되면 devDependencies에 있는 패키지들은 제외하고 dependencies에 있는 패키지들만 node_modules 디렉토리에 설치하게 된다.
